---
phase: 03-tmux-vim-workflow-stability
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - tmux/.tmux.conf
autonomous: true
requirements:
  - TVIM-01
user_setup: []
must_haves:
  truths:
    - Existing tmux keybindings remain intact, including aliasr bindings on Prefix + U and Prefix + K.
    - Optional dependency paths (`asciinema`, `fzf`) fail soft with actionable feedback.
    - Logging and history paths continue to use `~/Logs` as the canonical output contract.
  artifacts:
    - tmux/.tmux.conf
  key_links:
    - tmux/.tmux.conf:bind U and bind K -> aliasr workflow contract
    - tmux/.tmux.conf:bind P -> optional asciinema fail-soft behavior
    - tmux/.tmux.conf:bind S -> stable `~/Logs` output path contract
---

<objective>
Validate and harden tmux bindings, logging paths, and optional-tool behavior in `tmux/.tmux.conf`.

Purpose: Keep operator workflows dependable while preserving existing shortcuts and path contracts.
Output: Tmux config with fail-soft guards and unchanged keybinding surface.
</objective>

<execution_context>
@/Users/maleick/.codex/get-shit-done/workflows/execute-plan.md
@/Users/maleick/.codex/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/REQUIREMENTS.md
@.planning/phases/03-tmux-vim-workflow-stability/03-CONTEXT.md
@.planning/phases/03-tmux-vim-workflow-stability/03-RESEARCH.md
@tmux/.tmux.conf
@AGENTS.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add fail-soft guards for optional tmux dependencies</name>
  <files>tmux/.tmux.conf</files>
  <action>Keep all existing keybindings but add explicit fail-soft behavior where optional tools may be absent. `bind P` should produce an actionable message when `asciinema` is missing instead of hard command failure. Preserve current `bind s` fallback behavior for `fzf` and keep aliasr bindings untouched.</action>
  <verify>rg -n '^bind (P|s|U|K) ' tmux/.tmux.conf</verify>
  <done>`bind P` includes availability guarding and the `bind U`/`bind K` lines remain unchanged.</done>
</task>

<task type="auto">
  <name>Task 2: Preserve and harden logging path contract</name>
  <files>tmux/.tmux.conf</files>
  <action>Ensure logging/history flows keep `~/Logs` as the canonical output contract and create the directory before writes when needed. Do not rename path locations or alter key assignments.</action>
  <verify>rg -n 'Logs|bind S|capture-pane|save-buffer' tmux/.tmux.conf</verify>
  <done>History/recording writes are guarded to keep `~/Logs` stable and non-breaking.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `tmux -f /opt/dotfiles/tmux/.tmux.conf -L gsd03 start-server \; kill-server` passes
- [ ] `rg -n '^bind (U|K|P|S|s) ' tmux/.tmux.conf` confirms expected bindings remain present
- [ ] `rg -n '(/|\\$HOME/)Logs' tmux/.tmux.conf` confirms `~/Logs` contract remains in config
</verification>

<success_criteria>

- Existing tmux keybinding muscle memory is preserved
- Optional tool absence does not break core tmux workflows
- Logging/history contract remains stable at `~/Logs`

</success_criteria>

<output>
After completion, create `.planning/phases/03-tmux-vim-workflow-stability/03-01-SUMMARY.md`
</output>
